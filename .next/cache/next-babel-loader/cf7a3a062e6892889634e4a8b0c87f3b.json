{"ast":null,"code":"import axios from \"axios\";\nimport { postsReducer } from \"../slices/postsSlice\";\nimport { postReducer } from \"../slices/postSlice\";\nexport const getPosts = params => async (dispatch, getState) => {\n  try {\n    const data = await axios.get(\"https://simple-blog-api.crew.red/posts/\");\n    dispatch(postsReducer.actions.getPosts(data.data));\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deletePosts = id => async (dispatch, getState) => {\n  console.log(id);\n\n  try {\n    const data = await axios.delete(`https://simple-blog-api.crew.red/posts/${id}`);\n\n    if (data.status === 200) {\n      console.log(\"post deleted\");\n    }\n\n    dispatch(postsReducer.actions.deletePost(id));\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const createPost = body => async (dispatch, getState) => {\n  try {\n    const result = await axios.post(\"https://simple-blog-api.crew.red/posts/\", body);\n\n    if (result.status === 201) {\n      console.log(\"POST CREATED\");\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getPost = id => async (dispatch, getState) => {\n  try {\n    const data = await axios.get(`https://simple-blog-api.crew.red/posts/${id}`);\n\n    if (data.status === 200) {\n      console.log(\"Got post\");\n      dispatch(postReducer.actions.getPost(data.data));\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["/Users/timurzakirov/Desktop/dir/txen/lib/operations/postsOperation.js"],"names":["axios","postsReducer","postReducer","getPosts","params","dispatch","getState","data","get","actions","err","console","log","deletePosts","id","delete","status","deletePost","createPost","body","result","post","getPost"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAO,MAAMC,QAAQ,GAAGC,MAAM,IAAI,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAC9D,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,yCAAV,CAAnB;AACAH,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBN,QAArB,CAA8BI,IAAI,CAACA,IAAnC,CAAD,CAAR;AACD,GAHD,CAGE,OAAOG,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAPM;AASP,OAAO,MAAMG,WAAW,GAAGC,EAAE,IAAI,OAAOT,QAAP,EAAiBC,QAAjB,KAA8B;AAC7DK,EAAAA,OAAO,CAACC,GAAR,CAAYE,EAAZ;;AACA,MAAI;AACF,UAAMP,IAAI,GAAG,MAAMP,KAAK,CAACe,MAAN,CAChB,0CAAyCD,EAAG,EAD5B,CAAnB;;AAGA,QAAIP,IAAI,CAACS,MAAL,KAAgB,GAApB,EAAyB;AACvBL,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD;;AACDP,IAAAA,QAAQ,CAACJ,YAAY,CAACQ,OAAb,CAAqBQ,UAArB,CAAgCH,EAAhC,CAAD,CAAR;AACD,GARD,CAQE,OAAOJ,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAbM;AAeP,OAAO,MAAMQ,UAAU,GAAGC,IAAI,IAAI,OAAOd,QAAP,EAAiBC,QAAjB,KAA8B;AAC9D,MAAI;AACF,UAAMc,MAAM,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CACnB,yCADmB,EAEnBF,IAFmB,CAArB;;AAIA,QAAIC,MAAM,CAACJ,MAAP,KAAkB,GAAtB,EAA2B;AACzBL,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD;AACF,GARD,CAQE,OAAOF,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAZM;AAcP,OAAO,MAAMY,OAAO,GAAGR,EAAE,IAAI,OAAOT,QAAP,EAAiBC,QAAjB,KAA8B;AACzD,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAChB,0CAAyCM,EAAG,EAD5B,CAAnB;;AAGA,QAAIP,IAAI,CAACS,MAAL,KAAgB,GAApB,EAAyB;AACvBL,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAP,MAAAA,QAAQ,CAACH,WAAW,CAACO,OAAZ,CAAoBa,OAApB,CAA4Bf,IAAI,CAACA,IAAjC,CAAD,CAAR;AACD;AACF,GARD,CAQE,OAAOG,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAZM","sourcesContent":["import axios from \"axios\";\nimport { postsReducer } from \"../slices/postsSlice\";\nimport { postReducer } from \"../slices/postSlice\";\nexport const getPosts = params => async (dispatch, getState) => {\n  try {\n    const data = await axios.get(\"https://simple-blog-api.crew.red/posts/\");\n    dispatch(postsReducer.actions.getPosts(data.data));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const deletePosts = id => async (dispatch, getState) => {\n  console.log(id);\n  try {\n    const data = await axios.delete(\n      `https://simple-blog-api.crew.red/posts/${id}`,\n    );\n    if (data.status === 200) {\n      console.log(\"post deleted\");\n    }\n    dispatch(postsReducer.actions.deletePost(id));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const createPost = body => async (dispatch, getState) => {\n  try {\n    const result = await axios.post(\n      \"https://simple-blog-api.crew.red/posts/\",\n      body,\n    );\n    if (result.status === 201) {\n      console.log(\"POST CREATED\");\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getPost = id => async (dispatch, getState) => {\n  try {\n    const data = await axios.get(\n      `https://simple-blog-api.crew.red/posts/${id}`,\n    );\n    if (data.status === 200) {\n      console.log(\"Got post\");\n      dispatch(postReducer.actions.getPost(data.data));\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}